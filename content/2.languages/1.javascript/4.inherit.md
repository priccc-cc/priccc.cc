---
title: 'ç»§æ‰¿'
description: ''
tag: ['Javascript']
author: 'Priccc'
createdAt: '2023-12-27'
updatedAt: ''
draft: true
---

JavaScript ä¸‰å¤§ç‰¹æ€§ï¼š å°è£…ã€ç»§æ‰¿å’Œå¤šæ€

[JSç»§æ‰¿é¢˜-å°è£…ç¯‡](https://juejin.cn/post/6844904094948130824)

[å½»åº•å¼„æ‡‚JSç»§æ‰¿](https://juejin.cn/post/6844904098941108232)

å…ˆæ¥äº†è§£ä¸€äº›åŸºæœ¬æ¦‚å¿µ

```js
// 1. æ„é€ å‡½æ•°
function Cat(name){
  this.name = name
}
// 2. æ„é€ å‡½æ•°åŸå‹å¯¹è±¡
Cat.prototype
// 3. æ„é€ å‡½æ•°çš„å®ä¾‹
var gaogao = new Cat('ç³•ç³•');
// 4. æ„é€ å‡½æ•°çš„é™æ€æ–¹æ³•ï¼Œ åä¸ºfn
Cat.fn = function() {}
// 5. åŸå‹æ–¹æ³•ä¸Šçš„æ–¹æ³•ï¼Œåä¸ºfn
Cat.prototype.fn = function() {}
```

![å®ä¾‹åŸå‹é“¾](https://user-gold-cdn.xitu.io/2020/3/17/170e717b74663dea?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

## å°è£…

### 1. es6 ä¹‹å‰çš„å°è£…

éƒ½çŸ¥é“ ES6 çš„ class å®é™…å°±æ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œé‚£ä¹ˆåœ¨ ES6 ä¹‹å‰ï¼Œæ˜¯æ²¡æœ‰ç±»è¿™ä¸ªæ¦‚å¿µçš„ï¼Œå› æ­¤æ˜¯å€ŸåŠ©äºåŸå‹å¯¹è±¡å’Œæ„é€ å‡½æ•°æ¥å®ç°ã€‚

- ç§æœ‰å±æ€§åŠæ–¹æ³•ï¼šåªèƒ½åœ¨æ„é€ å‡½æ•°å†…è®¿é—®ä¸èƒ½è¢«å¤–éƒ¨æ‰€è®¿é—®(åœ¨æ„é€ å‡½æ•°å†…ä½¿ç”¨ var å£°æ˜çš„å±æ€§)
- å…¬æœ‰å±æ€§å’Œæ–¹æ³•(æˆ–å®ä¾‹æ–¹æ³•): å¯¹è±¡å¤–å¯ä»¥è®¿é—®åˆ°å¯¹è±¡å†…çš„å±æ€§å’Œæ–¹æ³•(åœ¨æ„é€ å‡½æ•°å†…ä½¿ç”¨ this è®¾ç½®ï¼Œæˆ–è€…è®¾ç½®åœ¨æ„é€ å‡½æ•°åŸå‹å¯¹è±¡ä¸Šæ¯”å¦‚ Cat.prototype.xxx)
- é™æ€å±æ€§å’Œæ–¹æ³•: å®šä¹‰åœ¨æ„é€ å‡½æ•°ä¸Šçš„æ–¹æ³•(æ¯”å¦‚ Cat.xxx)ï¼Œä¸éœ€è¦å®ä¾‹å°±å¯ä»¥è°ƒç”¨(ä¾‹å¦‚ Object.assign())

#### ç§æœ‰å±æ€§æ–¹æ³•å’Œå…±æœ‰å±æ€§æ–¹æ³•

- åœ¨å‡½æ•°å†…ç”¨ var å®šä¹‰çš„å°±æ˜¯ç§æœ‰çš„
- åœ¨å‡½æ•°å†…ç”¨ this æ‰¿æ¥çš„å°±æ˜¯å…¬æœ‰

#### é™æ€å±æ€§æ–¹æ³•å’Œå…¬æœ‰å±æ€§æ–¹æ³•

- åœ¨æ„é€ å‡½æ•°ä¸Šå®šä¹‰çš„æ˜¯é™æ€å±æ€§æ–¹æ³• å¦‚ promise.all(), Array.from()ç­‰
- åœ¨å®ä¾‹ä¸Šå®šä¹‰çš„äº‹å…¬å¯“å±æ€§æ–¹æ³• å¦‚ Array.prototype.push()ç­‰

#### å®ä¾‹è‡ªèº«çš„å±æ€§å’Œå®šä¹‰åœ¨æ„é€ å‡½æ•°åŸå‹å¯¹è±¡ä¸­çš„å±æ€§

```js
function Cat (name) {
  this.name = name
}
Cat.prototype.prototypeProp = 'æˆ‘æ˜¯æ„é€ å‡½æ•°åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§'
Cat.prototype.cleanTheBody = function (){
  console.log('æˆ‘ä¼šç”¨å”¾æ¶²æ¸…æ´èº«ä½“')
}
var guaiguai = new Cat('guaiguai')
console.log(guaiguai)
console.log(guaiguai.name)
console.log(guaiguai.prototypeProp)
guaiguai.cleanTheBody()
```

è¾“å‡ºçš„ç»“æœï¼š
```js
Cat {name: "guaiguai"}
'guaiguai'
'æˆ‘æ˜¯æ„é€ å‡½æ•°åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§'
'æˆ‘ä¼šç”¨å”¾æ¶²æ¸…æ´èº«ä½“'
```
prototypeProp å’Œ cleanTheBody å¹¶ä¸å‡ºç°åœ¨å®ä¾‹guaiguaiä¸Šï¼Œä½†æ˜¯guaiguaiå¯ä»¥è®¿é—®ä»–ä»¬

æ‰€ä»¥ç»“è®ºï¼š
<b>å®šä¹‰åœ¨æ„é€ å‡½æ•°åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§å’Œæ–¹æ³•è™½ç„¶ä¸èƒ½ç›´æ¥è¡¨ç°åœ¨å®ä¾‹å¯¹è±¡ä¸Šï¼Œä½†æ˜¯å®ä¾‹å¯¹è±¡å´å¯ä»¥è®¿é—®æˆ–è€…è°ƒç”¨å®ƒä»¬</b>

#### åŒºåˆ†è‡ªèº«çš„å±æ€§å’Œå®šä¹‰åœ¨æ„é€ å‡½æ•°åŸå‹å¯¹è±¡ä¸­çš„å±æ€§

```js
function Cat (name) {
  this.name = name
}
Cat.prototype.prototypeProp = 'æˆ‘æ˜¯æ„é€ å‡½æ•°åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§'
Cat.prototype.cleanTheBody = function () {
  console.log('æˆ‘ä¼šç”¨å”¾æ¶²æ¸…æ´èº«ä½“')
}
var guaiguai = new Cat('guaiguai')
for (key in guaiguai) {
  if (guaiguai.hasOwnProperty(key)) {
    console.log('æˆ‘æ˜¯è‡ªèº«å±æ€§', key)
  } else {
    console.log('æˆ‘ä¸æ˜¯è‡ªèº«å±æ€§', key)
  }
}
console.log('-åˆ†éš”ç¬¦-')
console.log(Object.keys(guaiguai))
console.log(Object.getOwnPropertyNames(guaiguai))

```

ç»“æœ
```js
'æˆ‘æ˜¯è‡ªèº«å±æ€§ name'
'æˆ‘ä¸æ˜¯è‡ªèº«å±æ€§ prototypeProp'
'æˆ‘ä¸æ˜¯è‡ªèº«å±æ€§ cleanTheBody'
'-åˆ†éš”ç¬¦-'
["name"]
["name"]
```
ç»“è®ºï¼š

 - ä½¿ç”¨for...in...èƒ½è·å–åˆ°å®ä¾‹å¯¹è±¡è‡ªèº«çš„å±æ€§å’ŒåŸå‹é“¾ä¸Šçš„å±æ€§
 - ä½¿ç”¨Object.keys()å’ŒObject.getOwnPropertyNames()åªèƒ½è·å–å®ä¾‹å¯¹è±¡è‡ªèº«çš„å±æ€§
 - å¯ä»¥é€šè¿‡.hasOwnProperty()æ–¹æ³•ä¼ å…¥å±æ€§åæ¥åˆ¤æ–­ä¸€ä¸ªå±æ€§æ˜¯ä¸æ˜¯å®ä¾‹è‡ªèº«çš„å±æ€§


### 2. class å°è£…

(ä¸€) classçš„åŸºæœ¬æ¦‚å¿µï¼š

å½“ä½ ä½¿ç”¨classçš„æ—¶å€™ï¼Œå®ƒä¼šé»˜è®¤è°ƒç”¨constructorè¿™ä¸ªå‡½æ•°ï¼Œæ¥æ¥æ”¶ä¸€äº›å‚æ•°ï¼Œå¹¶æ„é€ å‡ºä¸€ä¸ªæ–°çš„å®ä¾‹å¯¹è±¡(this)å¹¶å°†å®ƒè¿”å›ã€‚å¦‚æœä½ çš„classæ²¡æœ‰å®šä¹‰constructorï¼Œä¹Ÿä¼šéšå¼ç”Ÿæˆä¸€ä¸ªconstructoræ–¹æ³•

(äºŒ) classä¸­å‡ ç§å®šä¹‰å±æ€§çš„åŒºåˆ«ï¼šï¼š

åœ¨constructorä¸­varä¸€ä¸ªå˜é‡ï¼Œå®ƒåªå­˜åœ¨äºconstructorè¿™ä¸ªæ„é€ å‡½æ•°ä¸­
åœ¨constructorä¸­ä½¿ç”¨thiså®šä¹‰çš„å±æ€§å’Œæ–¹æ³•ä¼šè¢«å®šä¹‰åˆ°å®ä¾‹ä¸Š
åœ¨classä¸­ä½¿ç”¨=æ¥å®šä¹‰ä¸€ä¸ªå±æ€§å’Œæ–¹æ³•ï¼Œæ•ˆæœä¸ç¬¬äºŒç‚¹ç›¸åŒï¼Œä¼šè¢«å®šä¹‰åˆ°å®ä¾‹ä¸Š
åœ¨classä¸­ç›´æ¥å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œä¼šè¢«æ·»åŠ åˆ°åŸå‹å¯¹è±¡prototypeä¸Š
åœ¨classä¸­ä½¿ç”¨äº†staticä¿®é¥°ç¬¦å®šä¹‰çš„å±æ€§å’Œæ–¹æ³•è¢«è®¤ä¸ºæ˜¯é™æ€çš„ï¼Œè¢«æ·»åŠ åˆ°ç±»æœ¬èº«ï¼Œä¸ä¼šæ·»åŠ åˆ°å®ä¾‹ä¸Š

(ä¸‰) other:

classæœ¬è´¨è™½ç„¶æ˜¯ä¸ªå‡½æ•°ï¼Œä½†æ˜¯å¹¶ä¸ä¼šåƒå‡½æ•°ä¸€æ ·æå‡è‡³ä½œç”¨åŸŸæœ€é¡¶å±‚
å¦‚é‡classä¸­ç®­å¤´å‡½æ•°ç­‰é¢˜ç›®è¯·å‚ç…§æ„é€ å‡½æ•°æ¥å¤„ç†
ä½¿ç”¨classç”Ÿæˆçš„å®ä¾‹å¯¹è±¡ï¼Œä¹Ÿä¼šæœ‰æ²¿ç€åŸå‹é“¾æŸ¥æ‰¾çš„åŠŸèƒ½

## ç»§æ‰¿

### 1. åŸå‹é“¾ç»§æ‰¿

å°†å­ç±»çš„åŸå‹å¯¹è±¡æŒ‡å‘çˆ¶ç±»çš„å®ä¾‹

![åŸå‹é“¾ç»§æ‰¿](https://user-gold-cdn.xitu.io/2020/3/17/170e718601592273?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

```js
function Parent (name) {
  this.name = name
  this.sex = 'boy'
  this.colors = ['white', 'black']
}
function Child () {
  this.feature = ['cute']
}
var parent = new Parent('parent')
Child.prototype = parent // å­ç±»çš„åŸå‹å¯¹è±¡æŒ‡å‘çˆ¶ç±»çš„å®ä¾‹

var child1 = new Child('child1')
child1.sex = 'girl'
child1.colors.push('yellow')
child1.feature.push('sunshine')

var child2 = new Child('child2')

console.log(child1)
console.log(child2)

console.log(child1.name)
console.log(child2.colors)

console.log(parent)

```

ç»“æœï¼š
```js
Child { feature: ['cute', 'sunshine'], sex: 'girl' }
Child { feature: ['cute'] }

'parent'
['white', 'black', 'yellow']

Parent { name: 'parent', sex: 'boy', colors: ['white', 'black', 'yellow'] }
```

ä¼˜ç‚¹ï¼š
 - ç»§æ‰¿äº†çˆ¶ç±»çš„æ¨¡æ¿ï¼Œåˆç»§æ‰¿äº†çˆ¶ç±»çš„åŸå‹å¯¹è±¡

ç¼ºç‚¹ï¼š
 - å¦‚æœè¦ç»™å­ç±»çš„åŸå‹ä¸Šæ–°å¢å±æ€§å’Œæ–¹æ³•ï¼Œå°±å¿…é¡»æ”¾åœ¨Child.prototype = new Parent()è¿™æ ·çš„è¯­å¥åé¢
 - æ— æ³•å®ç°å¤šç»§æ‰¿(å› ä¸ºå·²ç»æŒ‡å®šäº†åŸå‹å¯¹è±¡äº†)
 - æ¥è‡ªåŸå‹å¯¹è±¡çš„æ‰€æœ‰å±æ€§éƒ½è¢«å…±äº«äº†ï¼Œè¿™æ ·å¦‚æœä¸å°å¿ƒä¿®æ”¹äº†åŸå‹å¯¹è±¡ä¸­çš„å¼•ç”¨ç±»å‹å±æ€§ï¼Œé‚£ä¹ˆæ‰€æœ‰å­ç±»åˆ›å»ºçš„å®ä¾‹å¯¹è±¡éƒ½ä¼šå—åˆ°å½±å“(è¿™ç‚¹ä»ä¿®æ”¹child1.colorså¯ä»¥çœ‹å‡ºæ¥)
- åˆ›å»ºå­ç±»æ—¶ï¼Œæ— æ³•å‘çˆ¶ç±»æ„é€ å‡½æ•°ä¼ å‚æ•°(è¿™ç‚¹ä»child1.nameå¯ä»¥çœ‹å‡ºæ¥)


#### instanceof

instanceof è¿ç®—ç¬¦ç”¨äºæ£€æµ‹æ„é€ å‡½æ•°çš„ prototype å±æ€§æ˜¯å¦å‡ºç°åœ¨æŸä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹é“¾ä¸Šã€‚a instanceof B å³açš„_proto_ä¸Šæ˜¯å¦æœ‰Bçš„prototype

```js
function Parent () {
  this.name = 'parent'
}
function Child () {
  this.sex = 'boy'
}
Child.prototype = new Parent()
var child1 = new Child()

console.log(child1 instanceof Child) // true
console.log(child1 instanceof Parent) // true
console.log(child1 instanceof Object) // true

```

#### isPrototypeOf

isPrototypeOf()çš„ç”¨æ³•å’Œinstanceofç›¸åã€‚

å®ƒæ˜¯ç”¨æ¥åˆ¤æ–­æŒ‡å®šå¯¹è±¡object1æ˜¯å¦å­˜åœ¨äºå¦ä¸€ä¸ªå¯¹è±¡object2çš„åŸå‹é“¾ä¸­ï¼Œæ˜¯åˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚

### 2. æ„é€ ç»§æ‰¿

åœ¨å­ç±»æ„é€ å‡½æ•°å†…éƒ¨ä½¿ç”¨callæˆ–applyæ¥è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°

```js
function Parent (name) {
  this.name = name
}
function Child () {
  this.sex = 'boy'
  Parent.call(this, 'child')
}
var child1 = new Child()
console.log(child1)

```

ä¼˜ç‚¹ï¼š

 - è§£å†³äº†åŸå‹é“¾ç»§æ‰¿ä¸­å­ç±»å®ä¾‹å…±äº«çˆ¶ç±»å¼•ç”¨å¯¹è±¡çš„é—®é¢˜ï¼Œå®ç°å¤šç»§æ‰¿ï¼Œåˆ›å»ºå­ç±»å®ä¾‹æ—¶ï¼Œå¯ä»¥å‘çˆ¶ç±»ä¼ é€’å‚æ•°

ç¼ºç‚¹ï¼š

  - æ„é€ ç»§æ‰¿åªèƒ½ç»§æ‰¿çˆ¶ç±»çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ç»§æ‰¿çˆ¶ç±»åŸå‹çš„å±æ€§å’Œæ–¹æ³•
  - å®ä¾‹å¹¶ä¸æ˜¯çˆ¶ç±»çš„å®ä¾‹ï¼Œåªæ˜¯å­ç±»çš„å®ä¾‹

### 3. ç»„åˆç»§æ‰¿

ä½¿ç”¨åŸå‹é“¾ç»§æ‰¿æ¥ä¿è¯å­ç±»èƒ½ç»§æ‰¿åˆ°çˆ¶ç±»åŸå‹ä¸­çš„å±æ€§å’Œæ–¹æ³•
ä½¿ç”¨æ„é€ ç»§æ‰¿æ¥ä¿è¯å­ç±»èƒ½ç»§æ‰¿åˆ°çˆ¶ç±»çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•

```js
function Parent(name) {
  this.name = name;
}
Parent.prototype.getName = function() {
  console.log(this.name);
}
function Child(name, sex) {
  Parent.call(this, name);
  this.sex = sex;
}
Child.prototype = new Parent();
Child.prototype.getSex = function() {
  console.log(this.sex);
}
```

#### constructor

ç”¨æ¥æ ‡ç¤ºå®ä¾‹å¯¹è±¡æ˜¯ç”±å“ªä¸ªæ„é€ å‡½æ•°åˆ›å»ºçš„ã€‚

```js
guaiguai.__proto__ = Cat.prototype
Cat.prototype.constructor = Cat
guaiguai.__proto__.constructor = Cat
```


```js
function Parent (name) {
  this.name = name
}
Parent.prototype.getName = function () {
  console.log(this.name)
}
function Child (name) {
  this.sex = 'boy'
  Parent.call(this, name)
}
Child.prototype = new Parent()
Child.prototype.getSex = function () {
  console.log(this.sex)
}

var child1 = new Child('child1')
var parent1 = new Parent('parent1')
console.log(child1.constructor) // f Parent()
console.log(parent1.constructor) // f Parent()

```

![](https://user-gold-cdn.xitu.io/2020/3/21/170fc8039b9967c0?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

parent1æ˜¯Parentçš„ä¸€ä¸ªå®ä¾‹ï¼Œ å®ä¾‹æœ¬èº«æ²¡æœ‰constructor, æ‰€ä»¥åœ¨åŸå‹ï¼ˆ_proto_ï¼‰ä¸ŠæŸ¥æ‰¾ï¼Œ æŒ‡å‘æ„é€ å‡½æ•°Parent, äºæ˜¯ç¬¬äºŒä¸ªæ‰“å°å‡ºParent

child å› ä¸ºåˆ‡æ–­äº†ä¸åŸæ¥çš„è”ç³»ï¼Œæ‰€ä»¥å‘ä¸ŠæŸ¥æ‰¾ï¼Œ ç„¶ååœ¨åŒ¿åå®ä¾‹çš„_proto_ä¸Šæ‰¾åˆ°äº†æ„é€ å‡½æ•°Parentï¼Œ æ‰€ä»¥ç¬¬ä¸€ä¸ªä¹Ÿæ‰“å°å‡ºParent

æ‰€ä»¥åœ¨ä½¿ç”¨ç»„åˆç»§æ‰¿æ—¶ï¼Œ éœ€è¦ä¿®æ­£constructorçš„æŒ‡å‘

```js
function Parent(name) {
  this.name = name;
}
Parent.prototype.getName = function() {
  console.log(this.name);
}
function Child(name, sex) {
  Parent.call(this, name);
  this.sex = sex;
}
Child.prototype = new Parent();
Child.prototype.constructor = Child;
Child.prototype.getSex = function() {
  console.log(this.sex);
}
```

![](https://user-gold-cdn.xitu.io/2020/3/21/170fc80609af65f2?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

è¿™æ ·çš„åŸå‹é“¾å°±å®Œæ•´äº†


```js
function Parent(name) {
  this.name = name;
  this.color = ['white']
}
Parent.prototype.feature = ['cute'];

function Child(name, color) {
  Parent.call(this, [name, color]);
}
Child.prototype = new Parent();
Child.prototype.constructor = Child;

const child1 = new Child('child1', ['white']);
child1.color.push('red');
child1.feature.push('sunshine');
const child2 = new Child('child2', ['white']);

console.log(child1.colors) // ['white', 'red']
console.log(child2.colors) // ['white']
console.log(child1.features) // ['cute', 'sunshine']
console.log(child2.features) // ['cute', 'sunshine']
```

ä¼˜ç‚¹ï¼š

- å¯ä»¥ç»§æ‰¿çˆ¶ç±»å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œä¹Ÿèƒ½å¤Ÿç»§æ‰¿çˆ¶ç±»åŸå‹å±æ€§å’Œæ–¹æ³•
 - å¼¥è¡¥äº†åŸå‹é“¾ç»§æ‰¿ä¸­å¼•ç”¨å±æ€§å…±äº«çš„é—®é¢˜
 - å¯ä¼ å‚ï¼Œå¯å¤ç”¨

ç¼ºç‚¹ï¼š
 - ä½¿ç”¨ç»„åˆç»§æ‰¿æ—¶ï¼Œçˆ¶ç±»æ„é€ å‡½æ•°ä¼šè¢«è°ƒç”¨ä¸¤æ¬¡
 - å¹¶ä¸”ç”Ÿæˆäº†ä¸¤ä¸ªå®ä¾‹ï¼Œå­ç±»å®ä¾‹ä¸­çš„å±æ€§å’Œæ–¹æ³•ä¼šè¦†ç›–å­ç±»åŸå‹(çˆ¶ç±»å®ä¾‹)ä¸Šçš„å±æ€§å’Œæ–¹æ³•ï¼Œæ‰€ä»¥å¢åŠ äº†ä¸å¿…è¦çš„å†…å­˜ã€‚

### 4. å¯„ç”Ÿç»„åˆç»§æ‰¿

ç»„åˆç»§æ‰¿çš„ç¼ºç‚¹å°±æ˜¯ çˆ¶ç±»çš„æ„é€ å‡½æ•°èµ°äº†ä¸¤æ¬¡ï¼Œ ç”Ÿæˆäº†ä¸¤ä¸ªå®ä¾‹

é‚£ä¹ˆ æˆ‘ä»¬éœ€è¦è·³è¿‡çˆ¶ç±»å±æ€§ä¸Šçš„å®ä¾‹ï¼Œ ç›´æ¥ç»§æ‰¿çˆ¶ç±»åŸå‹é“¾ä¸Šçš„å±æ€§

#### Object.create

Object.create(proto, propertiesObject)

 - å‚æ•°ä¸€ï¼Œéœ€è¦æŒ‡å®šçš„åŸå‹å¯¹è±¡
 - å‚æ•°äºŒï¼Œå¯é€‰å‚æ•°ï¼Œç»™æ–°å¯¹è±¡è‡ªèº«æ·»åŠ æ–°å±æ€§ä»¥åŠæè¿°å™¨

 ç¬¬ä¸€ä¸ªå‚æ•°protoï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯èƒ½æŒ‡å®šä½ è¦æ–°å»ºçš„è¿™ä¸ªå¯¹è±¡å®ƒçš„åŸå‹å¯¹è±¡æ˜¯è°ã€‚

 æˆ‘ä»¬ä½¿ç”¨var parent1 = new Parent()åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡parent1ï¼Œé‚£parent1.__proto__å°±æ˜¯Parent.prototypeã€‚

ä½¿ç”¨var obj = new Object()åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡objï¼Œé‚£obj.__proto__å°±æ˜¯Object.prototypeã€‚

è€Œè¿™ä¸ªObject.create() ï¼Œå®ƒç°åœ¨èƒ½æŒ‡å®šä½ æ–°å»ºå¯¹è±¡çš„__proto__ã€‚


```js
function Parent(name) {
  this.name = name;
}
Parent.prototype.getName = function() {
  console.log(this.name);
}
function Child(name, sex) {
  Parent.call(this, name);
  this.sex = sex;
}
Child.prototype = Object.create(Parent.prototype);
Child.prototype.constructor = Child;
Child.prototype.getSex = function() {
  console.log(this.sex);
}
```


æ€»ç»“ï¼šè§£å†³äº†ç»„åˆç»§æ‰¿çš„ç¼ºç‚¹

 - çˆ¶çº§çš„æ„é€ å‡½æ•°åªè°ƒç”¨äº†ä¸€æ¬¡ï¼Œ åªåˆ›å»ºäº†ä¸€æ¬¡å®ä¾‹
 - å­ç±»èƒ½è®¿é—®çˆ¶çº§çš„æ–¹æ³•å’ŒåŸå‹ä¸Šçš„æ–¹æ³•
 - èƒ½æ­£å¸¸ä½¿ç”¨instanceofæ–¹æ³•


### 5. åŸå‹å¼ç»§æ‰¿

åŸå‹å¼ç»§æ‰¿åŸç†ä¸Object.create()ç›¸åŒï¼Œ åˆ›å»ºä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œ æ„é€ å‡½æ•°çš„åŸå‹æŒ‡å‘å¯¹è±¡ï¼Œç„¶åé€šè¿‡newæ“ä½œç¬¦åˆ›é€ ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªå®ä¾‹ã€‚

ES5ä¹‹åå¯ä»¥ä½¿ç”¨Object.create()å®ç°ï¼Œ ä¹‹å‰å°±éœ€è¦æ‰‹åŠ¨å®ç°äº†

```js
 function create(obj) {
   function F() {}
   F.prototype = obj;
   F.prototype.constructor = F;
   return new F();
 }
```

ä¼˜ç‚¹ï¼š
 å†ä¸ç”¨åˆ›å»ºæ„é€ å‡½æ•°çš„æƒ…å†µä¸‹ï¼Œå®ç°äº†åŸå‹é“¾ç»§æ‰¿ï¼Œä»£ç é‡å‡å°‘ä¸€éƒ¨åˆ†ã€‚

ç¼ºç‚¹ï¼š
 - æ— æ³•ç›´æ¥ç»™çˆ¶çº§æ„é€ å‡½æ•°ä½¿ç”¨å‚æ•°
 - è°¨æ…å®šä¹‰æ–¹æ³•ï¼Œä»¥å…å®šä¹‰æ–¹æ³•ä¹Ÿç»§æ‰¿å¯¹è±¡åŸå‹çš„æ–¹æ³•é‡å
 - ä¸€äº›å¼•ç”¨æ•°æ®æ“ä½œçš„æ—¶å€™ä¼šå‡ºé—®é¢˜ï¼Œä¸¤ä¸ªå®ä¾‹ä¼šå…¬ç”¨ç»§æ‰¿å®ä¾‹çš„å¼•ç”¨æ•°æ®ç±»

### 6. å¯„ç”Ÿå¼ç»§æ‰¿

ä»–å°±æ˜¯åœ¨åŸå‹å¼ç»§æ‰¿çš„åŸºç¡€ä¸Šåœ¨å°è£…ä¸€å±‚ï¼Œ å¢å¼ºå¯¹è±¡

```js
function createAnother (original) {
    var clone = Object.create(original);; // é€šè¿‡è°ƒç”¨ Object.create() å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡
    clone.fn = function () {}; // ä»¥æŸç§æ–¹å¼æ¥å¢å¼ºå¯¹è±¡
    return clone; // è¿”å›è¿™ä¸ªå¯¹è±¡
}

```

```js
var cat = {
  heart: 'â¤ï¸',
  colors: ['white', 'black']
}
function createAnother (original) {
    var clone = Object.create(original);
    clone.actingCute = function () {
      console.log('æˆ‘æ˜¯ä¸€åªä¼šå–èŒçš„çŒ«å’ª')
    }
    return clone;
}
var guaiguai = createAnother(cat)
var huaihuai = Object.create(cat)

guaiguai.actingCute() // 'æˆ‘æ˜¯ä¸€åªä¼šå–èŒçš„çŒ«å’ª'
console.log(guaiguai.heart) // 'â¤ï¸'
console.log(huaihuai.colors) //  ['white', 'black']
console.log(guaiguai) // {actingCute: f}
console.log(huaihuai) // {}

```

ä¼˜ç¼ºç‚¹ä¸åŸå‹å¼ç»§æ‰¿ç›¸åŒ

### 7. æ··å…¥æ–¹å¼ç»§æ‰¿å¤šä¸ªå¯¹è±¡

å¦‚ä½•ä¸€ä¸ªå­ç±»ç»§æ‰¿å¤šä¸ªçˆ¶ç±»

```js
function Child () {
    Parent.call(this)
    OtherParent.call(this)
}
Child.prototype = Object.create(Parent.prototype)
Object.assign(Child.prototype, OtherParent.prototype)
Child.prototype.constructor = Child

```

### 8. classä¸­çš„ç»§æ‰¿

class ä¸­çš„ç»§æ‰¿ä¾é  `extends`å’Œ`super`ï¼Œ ä»–ä»¬çš„ç»§æ‰¿æ•ˆæœä¸å¯„ç”Ÿç»„åˆç»§æ‰¿ä¸€æ ·

superç›¸å…³ï¼š
 - åœ¨å®ç°ç»§æ‰¿æ—¶ï¼Œå¦‚æœå­ç±»ä¸­æœ‰constructorå‡½æ•°ï¼Œå¿…é¡»å¾—åœ¨constructorä¸­è°ƒç”¨ä¸€ä¸‹superå‡½æ•°ï¼Œå› ä¸ºå®ƒå°±æ˜¯ç”¨æ¥äº§ç”Ÿå®ä¾‹thisçš„ã€‚
 - superæœ‰ä¸¤ç§è°ƒç”¨æ–¹å¼ï¼šå½“æˆå‡½æ•°è°ƒç”¨å’Œå½“æˆå¯¹è±¡æ¥è°ƒç”¨ã€‚
 - superå½“æˆå‡½æ•°è°ƒç”¨æ—¶ï¼Œä»£è¡¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œä¸”è¿”å›çš„æ˜¯å­ç±»çš„å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯æ­¤æ—¶superå†…éƒ¨çš„thisæŒ‡å‘å­ç±»ã€‚åœ¨å­ç±»çš„constructorä¸­super()å°±ç›¸å½“äºæ˜¯Parent.constructor.call(this)ã€‚
 - superå½“æˆå¯¹è±¡è°ƒç”¨æ—¶ï¼Œæ™®é€šå‡½æ•°ä¸­superå¯¹è±¡æŒ‡å‘çˆ¶ç±»çš„åŸå‹å¯¹è±¡ï¼Œé™æ€å‡½æ•°ä¸­æŒ‡å‘çˆ¶ç±»ã€‚ä¸”é€šè¿‡superè°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•æ—¶ï¼Œsuperä¼šç»‘å®šå­ç±»çš„thisï¼Œå°±ç›¸å½“äºæ˜¯Parent.prototype.fn.call(this)ã€‚


## å¤šæ€

å¤šæ€çš„å®é™…å«ä¹‰æ˜¯ï¼šåŒä¸€æ“ä½œä½œç”¨äºä¸åŒçš„å¯¹è±¡ä¸Šï¼Œå¯ä»¥äº§ç”Ÿä¸åŒçš„è§£é‡Šå’Œä¸åŒçš„æ‰§è¡Œç»“æœã€‚


çœ‹ä¸‹é¢çš„ğŸŒ°ï¼Œå‡è®¾ä¸¤åªå® ç‰©ï¼Œ ä¸€åªå°çŒ«å’ªï¼Œ ä¸€åªå°ç‹—ï¼Œ ç°åœ¨è¦è®©ä»–ä»¬å‘å‡ºå«å£°ï¼Œ å°çŒ«å’ªéœ€è¦"å–µå–µå–µï½"çš„å«ï¼Œè€Œå°ç‹—åˆ™è¦"æ±ªæ±ªæ±ªï¼"ã€‚
è®©å®ƒä»¬å«å°±æ˜¯åŒä¸€æ“ä½œï¼Œå«å£°ä¸åŒå°±æ˜¯ä¸åŒçš„æ‰§è¡Œç»“æœã€‚

è®©æˆ‘ä»¬æ¥ç†ä¸€ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦ï¼š

 - ä¸€ä¸ªå‘å‡ºå£°éŸ³çš„æ–¹æ³•makeSound
 - ä¸€ä¸ªçŒ«çš„ç±»Cat
 - ä¸€ä¸ªç‹—çš„ç±»Dog
 - å½“è°ƒç”¨makeSoundå¹¶ä¸”ä¼ å…¥çš„æ˜¯ä¸€åªçŒ«åˆ™æ‰“å°å‡º"å–µå–µå–µï½"
 - å½“è°ƒç”¨makeSoundå¹¶ä¸”ä¼ å…¥çš„æ˜¯ä¸€åªç‹—åˆ™æ‰“å°å‡º"æ±ªæ±ªæ±ªï¼"


ä»£ç ï¼š
```js
functionÂ makeSoundÂ (animal)Â {
Â Â ifÂ (animalÂ instanceofÂ Cat)Â {
  Â Â Â Â console.log('å–µå–µå–µï½')Â Â 
  }Â elseÂ ifÂ (animalÂ instanceofÂ Dog)Â {Â Â Â Â 
    console.log('æ±ªæ±ªæ±ªï¼')Â Â 
  }
}
classÂ CatÂ {}
classÂ DogÂ {}
makeSound(newÂ Cat())Â //Â 'å–µå–µå–µï½'
makeSound(newÂ Dog())Â //Â 'æ±ªæ±ªæ±ªï¼'

```

è™½ç„¶ä¸Šé¢çš„ä»£ç å…·æœ‰å¤šæ€æ€§ï¼Œ ä½†æ˜¯å¦‚æœæˆ‘ä»¬æ–°å¢åŠ äº†ä¸€ä¸ªåŠ¨ç‰©ï¼Œ å°±éœ€è¦ä¿®æ”¹makeSoundæ–¹æ³•ï¼Œ ä¹…è€Œä¹…ä¹‹ï¼Œ è¿™ä¸ªä»£ç å°±ä¼šè¶Šæ¥è¶Šå¤æ‚ï¼Œ è¿™æ ·å¹¶ä¸æ˜¯æœ€å¥½çš„åŠæ³•


å…¶å®å¤šæ€æœ€æ ¹æœ¬çš„ä½œç”¨å°±æ˜¯<b>é€šè¿‡æŠŠè¿‡ç¨‹åŒ–çš„æ¡ä»¶è¯­å¥è½¬åŒ–ä¸ºå¯¹è±¡çš„å¤šæ€æ€§ï¼Œä»è€Œæ¶ˆé™¤è¿™äº›æ¡ä»¶åˆ†æ”¯è¯­å¥</b>ã€‚ ç®€è€Œè¨€ä¹‹ï¼Œ æˆ‘ä»¬åªéœ€è¦æŠŠåšä»€ä¹ˆå’Œè°å»åšå’Œæ€ä¹ˆåšåŒºåˆ†å¼€å°±å¥½äº†

å°±ä¸Šé¢çš„ä¾‹å­ï¼Œ åŠ¨ç‰©éƒ½ä¼šå«ï¼Œ ä½†æ˜¯å…·ä½“æ€ä¹ˆå«ï¼Œ æˆ‘ä»¬æŠŠä»–åˆ†é…åˆ°æ¯ä¸ªç±»ä¸Šé¢å°±å¥½äº†

```js
functionÂ makeSoundÂ (animal)Â {
Â Â ifÂ (animal.soundÂ instanceofÂ Function)Â {
  Â Â Â Â animal.sound();
  }
}
classÂ CatÂ {
  sound() {
    Â console.log('å–µå–µå–µï½')Â Â 
  }
}
classÂ DogÂ {
  sound() {
    Â console.log('æ±ªæ±ªæ±ªï¼')Â Â 
  }
}
makeSound(newÂ Cat())Â //Â 'å–µå–µå–µï½'
makeSound(newÂ Dog())Â //Â 'æ±ªæ±ªæ±ªï¼'
```

å¤šæ€çš„æœ€æ ¹æœ¬å¥½å¤„åœ¨äºï¼Œä½ ä¸å¿…å†å‘å¯¹è±¡è¯¢é—®â€œä½ æ˜¯ä»€ä¹ˆç±»å‹â€è€Œåæ ¹æ®å¾—åˆ°çš„ç­”
æ¡ˆè°ƒç”¨å¯¹è±¡çš„æŸä¸ªè¡Œä¸ºâ€”â€”ä½ åªç®¡è°ƒç”¨è¯¥è¡Œä¸ºå°±æ˜¯äº†ï¼Œå…¶ä»–çš„ä¸€åˆ‡å¤šæ€æœºåˆ¶éƒ½ä¼šä¸ºä½ å®‰æ’å¦¥å½“ã€‚